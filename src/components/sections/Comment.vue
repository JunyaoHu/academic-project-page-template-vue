<script>

// è¯„è®ºé…ç½®
// Twikoo æ”¯æŒè…¾è®¯äº‘ã€Vercelã€Railway ç­‰å¤šç§å¹³å°éƒ¨ç½²
// Based on Tencent CloudBase
// See: https://twikoo.js.org

import { onMounted, onUnmounted } from 'vue';

// .el-button {
//   display: inline-block;
//     line-height: 1;
//     white-space: nowrap;
//     cursor: pointer;
//     background: #FFF;
//     border: 1px solid #DCDFE6;
//     color: #606266;
//     -webkit-appearance: none;
//     text-align: center;
//     -webkit-box-sizing: border-box;
//     box-sizing: border-box;
//     outline: 0;
//     margin: 0;
//     -webkit-transition: .1s;
//     transition: .1s;
//     font-weight: 500;
//     -moz-user-select: none;
//     -webkit-user-select: none;
//     -ms-user-select: none;
//     padding: 12px 20px;
//     font-size: 14px;
//     border-radius: 4px;
// }
export default {
  // è¿™ä¸ªé’©å­å‡½æ•°ä¼šåœ¨ç»„ä»¶æŒ‚è½½åˆ° DOM ä¹‹åè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œ
  // éå¸¸é€‚åˆç”¨æ¥åˆå§‹åŒ– Twikoo è¯„è®ºæ’ä»¶ã€‚
  // åœ¨mountedå‡½æ•°å†…éƒ¨ï¼Œé€šè¿‡è°ƒç”¨twikoo.initæ–¹æ³•ï¼Œ
  // å¹¶ä¼ å…¥ç›¸åº”çš„é…ç½®å‚æ•°ï¼ˆå¦‚envIdå’Œelç­‰ï¼Œæ ¹æ®å®é™…æƒ…å†µå¡«å†™å’Œé…ç½®å¯é€‰å‚æ•°ï¼‰
  // æ¥å®Œæˆ Twikoo çš„åˆå§‹åŒ–å·¥ä½œï¼Œä½¿å…¶èƒ½å¤Ÿæ­£ç¡®åœ°åœ¨é¡µé¢ä¸Šå±•ç¤ºè¯„è®ºæ¡†
  // å¹¶ä¸åç«¯ç¯å¢ƒäº¤äº’ï¼ˆå‰ææ˜¯åç«¯ç¯å¢ƒå·²æ­£ç¡®é…ç½®å¥½å¯¹åº”çš„envIdç­‰ç›¸å…³è®¾ç½®ï¼‰ã€‚
  setup() {
    onMounted(() => {

      const cdnScript = document.createElement('script');
      // ä¸€ä¸ªä¿®æ”¹è¿‡åçš„çš„ twikoo js ç‰ˆæœ¬ï¼Œä¸ç„¶ç›´æ¥å¯¼å…¥sdnçš„è¯å’ŒelementåŸç‰ˆå†…å®¹çš„å†²çª
      cdnScript.src = '/src/assets/twikoo/twikoo.junyaohu.js';
      // cdnScript.src = 'https://cdn.staticfile.org/twikoo/1.6.40/twikoo.all.min.js';
      cdnScript.async = true;
    
      const loadSecondScript = () => { twikoo.init({
          // è…¾è®¯äº‘ç¯å¢ƒå¡« envIdï¼›Vercel ç¯å¢ƒå¡«åœ°å€ï¼ˆhttps://xxx.vercel.appï¼‰
          envId: 'https://blog-comment-nvoz-8o7dxhfbd-junyaohus-projects.vercel.app', 
          // å®¹å™¨å…ƒç´ 
          el: '#twikoo', 
          // ç¯å¢ƒåœ°åŸŸï¼Œé»˜è®¤ä¸º ap-shanghaiï¼Œè…¾è®¯äº‘ç¯å¢ƒå¡« ap-shanghai æˆ– ap-guangzhouï¼›Vercel ç¯å¢ƒä¸å¡«
          region: '', 
          // ç”¨äºåŒºåˆ†ä¸åŒæ–‡ç« çš„è‡ªå®šä¹‰ js è·¯å¾„ï¼Œå¦‚æœæ‚¨çš„æ–‡ç« è·¯å¾„ä¸æ˜¯ location.pathnameï¼Œéœ€ä¼ æ­¤å‚æ•°
          path: location.pathname,
          // ç”¨äºæ‰‹åŠ¨è®¾å®šè¯„è®ºåŒºè¯­è¨€ï¼Œæ”¯æŒçš„è¯­è¨€åˆ—è¡¨ https://github.com/twikoojs/twikoo/blob/main/src/client/utils/i18n/index.js
          lang: 'zh-CN', 
        });
      }

      cdnScript.addEventListener('load', loadSecondScript);
      document.body.appendChild(cdnScript);

    });

  }
}
</script>

<template>
  <div>
    <el-divider />
    
    <el-row justify="center">
      <h1 class="section-title">ğŸ’¬ Comment</h1>
    </el-row>
    
    <el-row justify="center">
      <el-col :span="18">
        <div id="twikoo"></div>
      </el-col>
    </el-row>
  </div>
</template>

<style>

/* ä¸å»ºè®®å„ä½æ”¹è¿™é‡Œï¼Œè¿™é‡Œæœ‰ç‚¹ä¹± */

/* ç•™è¨€æ¿ä½ç½® */
#twikoo {
  margin: 30px 0px;
}

#twikoo .el-input-group__prepend {
  border: none;
}

#twikoo .el-textarea__inner {
  border: none;
}

#twikoo .el-button--small {
  height: 100%;
}

#twikoo pre {
  border: 0.5px solid #bcbcbc;
  border-radius: 5px;
  padding: 10px;
  background: #ebeeff;
}

#twikoo code {
  font-family: 'Consolas';
  font-size: 14px;
}

/* ç•™è¨€æ¿å¤´åƒå±æ€§ */
.tk-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px
}

.tk-avatar {
  box-shadow: 0px 0px 3px #dadada;;
}

.tk-content {
  background: #eeffee;
  border-radius: 5px;
  box-shadow: 0px 0px 3px #dadada;
  padding: 20px 20px;
}

.tk-replies .tk-content {
  background: #f6faf6;
  border-radius: 5px;
  box-shadow: 0px 0px 3px #dadada;
  padding: 20px 20px;
}

/* ç•™è¨€æ¿é“¾æ¥å±æ€§ */
.tk-actions a {
  text-decoration: none;
  color: #3e98f2;
}

.tk-extras {
  margin: 5px 0px 20px 0px;
}

/* ç•™è¨€æ¿å›å¤é“¾æ¥å±æ€§ */
.tk-ruser {
  text-decoration: none;
  color: #3e98f2;
}

/* twikooé“¾æ¥å±æ€§ */
.tk-footer a {
  text-decoration: none;
  color: #3e98f2;
}

</style>
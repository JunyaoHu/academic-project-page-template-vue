<script>

// è¯„è®ºé…ç½®
// Twikoo æ”¯æŒè…¾è®¯äº‘ã€Vercelã€Railway ç­‰å¤šç§å¹³å°éƒ¨ç½²
// Based on Tencent CloudBase
// See: https://twikoo.js.org

import { onMounted } from 'vue';

export default {
  setup() {
    onMounted(() => {

      const cdnScript = document.createElement('script');
      // ä¸€ä¸ªä¿®æ”¹è¿‡åçš„çš„ twikoo js ç‰ˆæœ¬ï¼Œä¸ç„¶ç›´æ¥å¯¼å…¥cdnçš„è¯å’ŒelementåŸç‰ˆå†…å®¹çš„å†²çª
      cdnScript.src = './twikoo/twikoo.junyaohu.js';
      // cdnScript.src = 'https://cdn.staticfile.org/twikoo/1.6.40/twikoo.all.min.js';
      cdnScript.async = true;
    
      const loadSecondScript = () => { twikoo.init({
          // è…¾è®¯äº‘ç¯å¢ƒå¡« envIdï¼›Vercel ç¯å¢ƒå¡«åœ°å€ï¼ˆhttps://xxx.vercel.appï¼‰
          envId: 'https://blog-comment-nvoz-8o7dxhfbd-junyaohus-projects.vercel.app', 
          // å®¹å™¨å…ƒç´ 
          el: '#twikoo', 
          // ç¯å¢ƒåœ°åŸŸï¼Œé»˜è®¤ä¸º ap-shanghaiï¼Œè…¾è®¯äº‘ç¯å¢ƒå¡« ap-shanghai æˆ– ap-guangzhouï¼›Vercel ç¯å¢ƒä¸å¡«
          region: '', 
          // ç”¨äºåŒºåˆ†ä¸åŒæ–‡ç« çš„è‡ªå®šä¹‰ js è·¯å¾„ï¼Œå¦‚æœæ‚¨çš„æ–‡ç« è·¯å¾„ä¸æ˜¯ location.pathnameï¼Œéœ€ä¼ æ­¤å‚æ•°
          path: location.pathname,
          // ç”¨äºæ‰‹åŠ¨è®¾å®šè¯„è®ºåŒºè¯­è¨€ï¼Œæ”¯æŒçš„è¯­è¨€åˆ—è¡¨ https://github.com/twikoojs/twikoo/blob/main/src/client/utils/i18n/index.js
          lang: 'zh-CN', 
        });
      }

      cdnScript.addEventListener('load', loadSecondScript);
      document.body.appendChild(cdnScript);

    });

  }
}
</script>

<template>
  <div>
    <el-divider />
    
    <el-row justify="center">
      <h1 class="section-title">ğŸ’¬ Comment</h1>
    </el-row>
    
    <el-row justify="center">
      <el-col :xs="24" :sm="24" :md="24" :lg="16" :xl="12" >
        <div id="twikoo"></div>
      </el-col>
    </el-row>
  </div>
</template>

<style>

/* ä¸å»ºè®®å„ä½æ”¹è¿™é‡Œï¼Œè¿™é‡Œæœ‰ç‚¹ä¹± */

/* ç•™è¨€æ¿ä½ç½® */
#twikoo {
  margin: 30px 0px 0px 0px;
}

#twikoo .tk-owo-emotion {
  width: 1.5em;
}

#twikoo img {
  height: 100%;
  width: 100%;
}

#twikoo .el-input-group__prepend {
  border: none;
}

#twikoo .el-textarea__inner {
  border: none;
}

#twikoo .el-button--small {
  height: 100%;
}

/* ç•™è¨€æ¿å¤´åƒå±æ€§ */
.tk-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px
}

.tk-avatar {
  box-shadow: 0px 0px 3px #dadada;;
}

/* ç•™è¨€æ¿é“¾æ¥å±æ€§ */
.tk-actions a {
  text-decoration: none;
  color: #3e98f2;
}

.tk-extras {
  margin: 5px 0px 20px 0px;
}

/* ç•™è¨€æ¿å›å¤é“¾æ¥å±æ€§ */
.tk-ruser {
  text-decoration: none;
  color: #3e98f2;
}

/* twikooé“¾æ¥å±æ€§ */
.tk-footer a {
  text-decoration: none;
  color: #3e98f2;
}

</style>
